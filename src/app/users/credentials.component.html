<div class="row">
  <div class="card col m-1 p-sm-1">
    <div class="card-block">
      <form #formCredentials
            (submit)="save()"
            [formGroup]="credentialsForm"
            class="k-form"
            novalidate>
        <fieldset formGroupName="authentication">
          <legend>Credentials</legend>
          <!-- user name -->
          <div class="k-form-field">
            <label [for]="userName">
              Username<span class="k-required">*</span>
            </label>
            <input #userName class="k-textbox"
                   placeholder="Your username"
                   formControlName="userName"/>
            <div class="card alert-danger mt-1 p-1"
                  *ngIf="credentialsForm.controls.authentication.controls.userName.invalid &&
                  (credentialsForm.controls.authentication.controls.userName.dirty ||
                   credentialsForm.controls.authentication.controls.userName.touched)">
              <div *ngIf="credentialsForm.controls.authentication.controls.userName.errors.required">
                <span class="k-icon k-i-info mb-1 mr-1"></span>Sorry, but the user name is required!
              </div>
              <div *ngIf="credentialsForm.controls.authentication.controls.userName.errors.minlength">
                <span class="k-icon k-i-info mb-1 mr-1"></span>Sorry, but the user name has a minimum length!
              </div>
            </div>
          </div>
          <!-- password -->
          <div class="k-form-field">
            <Label [for]="password">
              Password <span class="k-field-info">optional</span>
            </Label>
            <input #password type="password" class="k-textbox"
                   placeholder="Your password"
                   formControlName="password" />
            <div class="card alert-danger mt-1 p-1"
                 *ngIf="credentialsForm.controls.authentication.controls.password.invalid &&
                  (credentialsForm.controls.authentication.controls.password.dirty ||
                   credentialsForm.controls.authentication.controls.password.touched)">
              <div *ngIf="credentialsForm.controls.authentication.controls.password.errors.required">
                <span class="k-icon k-i-info mb-1 mr-1"></span>Sorry, but the password is required!
              </div>
              <div *ngIf="credentialsForm.controls.authentication.controls.password.errors.minlength">
                <span class="k-icon k-i-info mb-1 mr-1"></span>Sorry, but the password has a minimum length!
              </div>
            </div>
          </div>
          <!-- phone -->
          <div class="k-form-field">
            <label [for]="phone">
              Phone <span class="k-field-info">(optioneel)</span>
            </label>
            <input #phone class="k-textbox"
                   type="tel"
                   placeholder="Your Phone"
                   formControlName="phone" />
            <span *ngIf="credentialsForm.controls.authentication.controls.phone.errors?.phoneNumber"
                  class="card alert-danger p-1 mt-1">
                Geen geldig telefoon nummer!
            </span>
          </div>
          <!-- is authenticated -->
          <div class="k-form-field">
            <input id="isAuthenticated" type="checkbox" class="k-checkbox"
                   formControlName="isAuthenticated">
            <label class="k-checkbox-label" for="isAuthenticated">
              Enable two-factor authentication
            </label>
          </div>
        </fieldset>
        <div class="text-right">
          <button type="button"
                  class="k-button"
                  (click)="reset()"
                  [disabled]="!formCredentials.dirty && formCredentials.untouched">
            Cancel
          </button>
          <button type="submit"
                  class="k-button k-primary"
                  [disabled]="formCredentials.invalid">
            Submit
          </button>
        </div>
      </form>
    </div>
  </div>
  <div class="card alert-info p-1">
    <p>Control: {{credentialsForm.value | json}}
    <p>Control status: {{credentialsForm.status | json}}
    <p>Model: {{model | json}}</p>
    <p>{{credentialsForm.controls.authentication.errors | json }}
  </p>
</div>
